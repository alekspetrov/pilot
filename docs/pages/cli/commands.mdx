# CLI Commands

## pilot start

Start Pilot in polling mode.

```bash
pilot start [flags]
```

### Flags

| Flag | Description |
|------|-------------|
| `--telegram` | Enable Telegram bot |
| `--github` | Enable GitHub issue polling |
| `--linear` | Enable Linear webhooks |
| `--slack` | Enable Slack Socket Mode |
| `--autopilot=ENV` | Enable autopilot: `dev`, `stage`, `prod` |
| `--auto-release` | Enable automatic release creation after PR merge |
| `--dashboard` | Show TUI dashboard |
| `-d, --daemon` | Run in background (daemon mode) |
| `-p, --project` | Project path (default: config default or cwd) |
| `--replace` | Kill existing bot instance before starting |
| `--no-gateway` | Run polling adapters only (no HTTP gateway) |
| `--sequential` | Sequential execution: wait for PR merge before next issue |
| `--tunnel` | Enable public tunnel for webhook ingress (Cloudflare/ngrok) |
| `--team` | Team ID or name for project access scoping |
| `--team-member` | Member email for team access scoping |
| `--log-format` | Log output format: `text` or `json` |

### Examples

```bash
# Basic: Telegram + GitHub
pilot start --telegram --github

# With autopilot (auto-merge after CI)
pilot start --telegram --github --autopilot=stage

# With dashboard
pilot start --telegram --github --dashboard

# Polling only, no HTTP server
pilot start --telegram --no-gateway

# Sequential execution mode
pilot start --github --sequential
```

## pilot task

Execute a single task.

```bash
pilot task "description" [flags]
```

### Flags

| Flag | Description |
|------|-------------|
| `-p, --project` | Project path (default: current directory) |
| `--dry-run` | Show prompt without executing |
| `-v, --verbose` | Stream raw Claude output |
| `--alerts` | Enable alerts for task execution |
| `--budget` | Enable budget enforcement for this task |
| `--team` | Team ID or name for project access scoping |
| `--team-member` | Member email for team access scoping |

### Examples

```bash
# Quick local execution
pilot task "Fix the typo in README.md"

# Preview what will happen
pilot task "Refactor auth module" --dry-run

# Execute with verbose output
pilot task "Add rate limiting" --verbose

# Execute with budget enforcement
pilot task "Implement feature" --budget
```

## pilot upgrade

Self-update to latest version.

```bash
pilot upgrade [subcommand] [flags]
```

### Subcommands

| Subcommand | Description |
|------------|-------------|
| `check` | Check for available updates |
| `run` | Download and install the latest version (default) |
| `rollback` | Restore the previous version from backup |

### upgrade check

```bash
pilot upgrade check [flags]
```

| Flag | Description |
|------|-------------|
| `--json` | Output as JSON |

### upgrade run

```bash
pilot upgrade run [flags]
```

| Flag | Description |
|------|-------------|
| `-f, --force` | Skip waiting for running tasks |
| `-y, --yes` | Skip confirmation prompt |

### Examples

```bash
# Check and upgrade (default behavior)
pilot upgrade

# Only check for updates
pilot upgrade check

# Skip confirmation prompt
pilot upgrade run --yes

# Restore previous version
pilot upgrade rollback
```

## pilot init

Initialize Pilot configuration.

```bash
pilot init [flags]
```

### Flags

| Flag | Description |
|------|-------------|
| `--force` | Reinitialize config (backs up existing to .bak) |

Creates `~/.pilot/config.yaml` with default settings.

## pilot doctor

Check Pilot configuration and dependencies.

```bash
pilot doctor [flags]
```

### Flags

| Flag | Description |
|------|-------------|
| `-v, --verbose` | Show detailed output with fix suggestions |

### Examples

```bash
# Run all checks
pilot doctor

# Show detailed output
pilot doctor --verbose
```

## pilot logs

View task execution logs.

```bash
pilot logs [task-id] [flags]
```

### Flags

| Flag | Description |
|------|-------------|
| `-n, --limit` | Number of recent tasks to show (default: 10) |
| `-f, --follow` | Follow log output (not implemented) |
| `-v, --verbose` | Show detailed output |
| `--json` | Output as JSON |

### Examples

```bash
# Show recent task logs
pilot logs

# Show logs for specific task
pilot logs TASK-12345

# Show logs for GitHub issue task
pilot logs GH-15

# Show last 20 tasks
pilot logs --limit 20
```
