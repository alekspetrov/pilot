apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "pilot.fullname" . }}
  labels:
    {{- include "pilot.labels" . | nindent 4 }}
data:
  config.yaml: |
    # Pilot configuration â€” generated by Helm chart.
    # Override individual values via .Values.extraEnv or a custom values file.

    gateway:
      host: {{ .Values.gateway.host | quote }}
      port: {{ .Values.gateway.port }}

    adapters:
      github:
        enabled: {{ .Values.adapters.github.enabled }}
      telegram:
        enabled: {{ .Values.adapters.telegram.enabled }}
      slack:
        enabled: {{ .Values.adapters.slack.enabled }}
      linear:
        enabled: {{ .Values.adapters.linear.enabled }}

    autopilot:
      mode: {{ .Values.autopilot.mode | quote }}

    storage:
      # SQLite database lives on the PVC so it survives pod restarts
      path: /home/pilot/.pilot/data/pilot.db
